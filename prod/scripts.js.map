{"version":3,"sources":["dev/input.js"],"names":[],"mappings":"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","file":"dev/input.js","sourcesContent":["'use strict'\n\n//TODO\n//проверка на null и тд\n\n//можно сделать классом - оберткой над document для удобного создания элементов\nlet domAssistant = (function(){\n\tlet elementsStack = [];\n\tlet elementsCount = 0;\n\t\n\t//хотелось бы, чтоб как в jquery - объект еще и функция\n\tfunction assistant(tagName){\n\t\telementsStack = [];\n\t\telementsStack[0] = document.createElement(tagName);\n\t\telementsCount = 1;\n\t};\n\t\n\tassistant.createByTag = function(){\n\t\telementsStack[0] = (document.createElement(tagName));\n\t\treturn this;\n\t};\n\n\tassistant.appendChilds = function(elements, classes){\n\t\tif (!elements || elements.length == 0)\n\t\t\treturn;\n\t\t\t\n\t\tfor (let i = 1; i < elements.length; i++){\n\t\t\tlet newElement = document.createElement(elements[i]);\n\t\t\t/*\n\t\t\tif (classes.hasKey(elements[i])){\n\t\t\t\tfor (let j = 1; j < classes[elements[i]].length; j++)\n\t\t\t\t\tnewElement.className = classes[elements[i]][j];\n\t\t\t}\n\t\t\t*/\n\t\t\telements[0].appendChild(elements[i]);\n\t\t\telementsStack.push(elements[i]);\n\t\t\telementsCount++;\n\t\t};\t\n\t\t\t\n\t\treturn this;\n\t};\n\n\tassistant.getDocumentElementsWithAttribute = function(attributeName, element = document)\n\t{\n\t\t//старый код\n\t\t/*\n\t\tlet matchingElements = [];\n\t\tlet allElements = element.getElementsByTagName('*');\n\t\tfor (let i = 0, n = allElements.length; i < n; i++){\n\t\t\tif (allElements[i].getAttribute(attribute) !== null){\n\t\t\t\t  // Element exists with attribute. Add to array.\n\t\t\t\t  matchingElements.push(allElements[i]);\n\t\t\t\t}\n\t\t}\n\t\t*/\n\t\t//шаблонные строки\n\t\tlet matchingElements = element.querySelectorAll(`[${attributeName}]`);\n\t\treturn matchingElements;\n\t};\n\n\tassistant.getDocumentElementsWithClassName = function(className, element = document)\n\t{\n\t\t//старый код\n\t\t/*\n\t\t let matchingElements = [];\n\t\t matchingElements = element.getElementsByClassName(className);\n\t\t */\n\t\t//шаблонные строки\n\t\tlet matchingElements = element.querySelectorAll(`.${className}`);\n\t\treturn matchingElements;\n\t};\n\n\tassistant.addClass = function(className){\n\t\telementsStack[elementsCount-1].classList.add(className);\n\t\treturn this;\n\t};\n\n\tassistant.removeClass = function(className){\n\t\telementsStack[elementsCount-1].classList.remove(className);\n\t\treturn this;\n\t};\n\n\tassistant.addAttribute = function(attributeName, attributeContent){\n\t\telementsStack[elementsCount-1].setAttribute(attributeName, attributeContent);\n\t\treturn this;\n\t};\n\n\tassistant.replace = function(targetElement){\n\t\tdocument.replaceChild(targetElement, elementsStack[0]);\n\t\treturn this;\n\t};\n\n\tassistant.get = function(){\n\t\treturn elementsStack[0];\n\t};\n\t\n\treturn assistant;\n})();\n\nlet appointEvent = function(eventType, eventTarget, eventFunction){\n\teventTarget[`on${eventType}`] = eventFunction;\n};\n\n//class\nclass MInput {\n\tconstructor(targetElement) {\n\t\tthis.element = domAssistant('div').addClass('m-input-container')\n\t\t\t.appendChilds(['input']).addAttribute('type', 'text')\n\t\t\t.appendChilds(['div']).addClass('clr-cross').addClass('display-none')\n\t\t\t.replace(targetElement).get();\n\n\t\tthis.input = domAssistant.getDocumentElementsWithAttribute('text',this.element)[0];\n\n\t\tObject.defineProperty(this, \"value\",{\n\t\t\tget: () => { return this.input.value; },\n\t\t\tset: (nweValue) => { this.input.value = newValue; },\n\t\t\tenumerable: true,\n\t\t\twritable: true\n\t\t});\n\n\t\tthis.cross = domAssistant.getDocumentElementsWithClassName('clr-cross',this.element)[0];\n\n\t\tappointEvent('click',this.cross,()=>{\n\t\t\tthis.value = \"\";\n\t\t\tdomAssistant(this.cross).addClass('display-none');\n\t\t});\n\n\t\tappointEvent('input',this.input,()=>{\n\t\t\tif (this.value != \"\")\n\t\t\t\tdomAssistant(this.cross).removeClass('display-none');\n\t\t\telse\n\t\t\t\tdomAssistant(this.cross).addClass('display-none');\n\t\t});\n\t}\n}\n\n//обертка для хранения приватных полей и методов класса\n/*\nlet mInputClassWrapper = function(cls){\n\tlet _MInputContainerBaseClass;\n\tlet _MInputTextElement;\n\treturn cls;\n}\n*/\n\n//из-за обертки проблемка, для наследования надо или переписать обертку или забить на приветные переменные, или вынести как-то класс из обертки\nclass MSelectInput extends MInput{\n    constructor(location, classes, eventListeners){\n        super(location, classes, eventListeners);\n    }\n\n\t/*\n    newMtd(){\n        return \"111\";\n    }\n\t*/\n\t\n\t/* надо проверить, что будет, если явно не переопределить неизменяемую при наследовании функцию\n\tlistenDom(dom, listeners){\n\t\tsuper(location, classes, eventListeners);\n\t}\n\t*/\n\t/*\n    buildDom(clsasses){\n        let baseInputContainer = super(clsasses);\n\t\t\n\t\tbaseInputContainer.appendChild('div');\n\t\t//и тд, докрутить до инпута с опциями\n    }*/\n}\n\nlet initMElements = function(){\n\tlet inputElements = document.getElementsByTagName(\"m-input\");\n\tlet selectInputElems = document.getElementsByTagName(\"m-select-input\");\n\tlet multiSelectInputElems = document.getElementsByTagName(\"m-multi-select-input\");\n\n\tlet inputObjectList = [];\n\n\t//вариант с использованием обертки, содержащей приветные поля класса\n\t//let clsWithLocal = mInputClassWrapper(MInput);\n\t//let mInput = new (mInputClassWrapper())(\"blc\");\n\t\n\tfor (let i = 0; i < inputElements.length; i++){\n\t\tlet inputObject = new MInput(inputElements[i]);\n\t\tinputObjectList.push(inputObject);\n\t}\t\n};\n\ndocument.addEventListener('DOMContentLoaded', initMElements, false);"]}